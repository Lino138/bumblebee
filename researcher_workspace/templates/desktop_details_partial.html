<div class="desktop-header bg-white shadow-sm">
    <div class="container pt-5 pb-3 position-relative">
        <a href="javascript:void(0);" class="btn btn-link position-absolute top-0 mt-2" onclick="closeDetails()"><i class="fas fa-arrow-left"></i> Back</a>
        <div class="d-flex">
            <div class="desktop-logo flex-grow-1">
                <img src="{{ desktop_type.logo }}" width="360" />
            </div>
            <div class="desktop-header-button d-none d-sm-inline-block align-self-center">
                {% if launch_allowed %}
                    <button class="btn btn-success" title="Launch {{ desktop_type.name }}" data-bs-toggle="modal" data-bs-target="#{{ app_name }}-{{ desktop_type.id }}-launch-modal">Create Desktop <i class="fas fa-plus"></i>
                {% else %}
                    <span class="d-inline-block disabled" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="You already have a Virtual Desktop.">
                        <button class="btn btn-success" disabled title="Launch {{ desktop_type.name }}">Create Desktop <i class="fas fa-plus"></i>
                    </span>
                {% endif %}
            </div>
        </div>
    </div>
</div>
<section class="desktop-details">
    <div class="container py-5">
        <div class="row mb-5">
            <div class="col-12 col-md-6 col-lg-7 col-xxl-8">
                {% if desktop_type.details.screenshots %}
                <div id="screenshot-carousel" class="carousel slide shadow mb-3" data-bs-ride="carousel">
                    <div class="carousel-indicators">
                        {% for screenshot in desktop_type.details.screenshots %}
                        <button type="button" data-bs-target="#screenshot-carousel" data-bs-slide-to="{{ forloop.counter0 }}" {% if forloop.first %}class="active" aria-current="true"{% endif %} aria-label="{{ screenshot.description }}"></button>
                        {% endfor %}
                    </div>
                    <div class="carousel-inner">
                        {% for screenshot in desktop_type.details.screenshots %}
                        <div class="carousel-item {% if forloop.first %}active{% endif %}">
                            <img src="{{ screenshot.url }}" class="d-block w-100" alt="{{ screenshot.description }}">
                        </div>
                        {% endfor %}
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#screenshot-carousel" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#screenshot-carousel" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
                {% endif %}
                {{ desktop_type.description | safe }}
            </div>
            <div class="col-12 col-md-6 col-lg-5 col-xxl-4">
                <h6>DEFAULT SIZE</h6>
                <ul>
                    <li>{{ desktop_type.default_flavor.vcpus }} VCPUs</li>
                    <li>{{ desktop_type.default_flavor.ram }} GB RAM</li>
                </ul>
                <h6>BOOST SIZE</h6>
                <ul>
                    <li>{{ desktop_type.big_flavor.vcpus }} VCPUs</li>
                    <li>{{ desktop_type.big_flavor.ram }} GB RAM</li>
                </ul>
                {% if desktop_type.details.features %}
                <h6>FEATURES</h6>
                <ul>
                    {% for feature in desktop_type.details.features %}
                    <li>{{ feature }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
            </div>
        </div>
        <div class="row mb-5">
            <div class="col-lg-12 col-xl-10 offset-xl-1">
                <div class="card shadow">
                    <div class="card-body px-lg-5">
                        <h2 class="text-center mt-3 mb-5">This desktop is great for...</h2>
                        <ul class="fa-ul mb-4">
                            {% for highlight in desktop_type.details.highlights %}
                            <li class="h5">
                                <span class="fa-li"><i class="fas fa-check-circle text-success"></i></span>
                                <span class="text-secondary">{{ highlight }}</span>
                            </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mb-5">
            <div class="col-12 text-center">
                {% if launch_allowed %}
                <h3 class="mb-4">Would you like to create this desktop?</h3>
                <button class="btn btn-outline-success mb-4" title="Launch {{ desktop_type.name }}" data-bs-toggle="modal" data-bs-target="#{{ app_name }}-{{ desktop_type.id }}-launch-modal">
                    Create {{ desktop_type.name }} Desktop <i class="fas fa-plus"></i>
                </button>
                <h3>Or explore <a href="{% url 'index' %}#desktop-library">other desktops.</a></h3>
                {% else %}
                <!-- Sorry.  Only one desktop permitted at a time -->
                {% endif %}
            </div>
        </div>
    </div>
</section>
<script>
function closeDetails() {
    document.getElementById('desktop-details').innerHTML = '';
}
</script>
